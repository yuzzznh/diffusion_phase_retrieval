gpu: 0
use_tpu: false  # true면 GCP TPU v3-8 (PyTorch XLA) 사용, false면 CUDA 사용
batch_size: 10
num_samples: 4  # number of samples (particles) per image for phase retrieval
save_dir: ./results
name: demo
wandb: False
save_samples: True
save_traj: True
save_traj_video: False
save_traj_raw_data: False
show_eval: False
eval_fid: False
eval_fn_list: ['psnr', 'ssim', 'lpips']
task_group: pixel  # pixel, sd, or latent
project_name: 'DAPS'
seed: 42

# ============================================================
# 실험 0~5 공통 Flag (Particle Guidance, Pruning, Optimization)
# ============================================================
# Particle Guidance (Repulsion) 설정 - RLSD style SVGD in DINO feature space
repulsion_scale: 0.0  # 입자 간 반발력 초기 강도. 0.0이면 독립 실행 (DAPS baseline), >0.0이면 서로 밀어냄
repulsion_sigma_break: 1.0  # sigma threshold: repulsion active when sigma > sigma_break (default: ~low noise에서 끔)
repulsion_schedule: 'linear'  # decay schedule: 'linear', 'cosine', 'constant'
repulsion_dino_model: 'dino_vits16'  # DINO model variant for feature extraction

# Pruning 설정
pruning_step: -1  # 가지치기 수행 timestep. -1이면 pruning 없음, 양수면 해당 timestep에서 pruning

# Hard Data Consistency (ReSample-style Latent Optimization) 설정
hard_data_consistency: -1  # -1이면 off, 1이면 on (맨 마지막 timestep에서 latent optimization 수행)
optimization_lr: 5e-3  # ReSample default: 5e-3
optimization_eps: 1e-3  # Tolerance for early stopping. cur_loss < eps² → terminate
optimization_max_iters: 500  # ReSample default: 500